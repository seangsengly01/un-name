<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Location Viewer (User 2)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #locationStatus {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>Live Location Tracking (User 2)</h1>
    <p id="locationStatus">Waiting for location...</p>

    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <!-- Firebase Realtime Database -->
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>

    <script>
        // Your Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyBPRbh40i_qAXQ_EGcHnJDBPEHwRIeDYUk",
          authDomain: "fir-mimo-01.firebaseapp.com",
          databaseURL: "https://fir-mimo-01-default-rtdb.firebaseio.com",
          projectId: "fir-mimo-01",
          storageBucket: "fir-mimo-01.appspot.com",
          messagingSenderId: "206447693108",
          appId: "1:206447693108:web:589c2d0da95ce1d8b4e961",
          measurementId: "G-7WP3NQW2HJ"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Listen for changes in User 1's location
        firebase.database().ref('users/user1').on('value', (snapshot) => {
            const data = snapshot.val();
            if (data) {
                const lat = data.latitude;
                const lon = data.longitude;

                // Update the UI with the "I'm here" message and link
                const message = `I'm here: <a href="https://www.google.com/maps?q=${lat},${lon}" target="_blank">https://www.google.com/maps?q=${lat},${lon}</a>`;
                document.getElementById('locationStatus').innerHTML = message;
            } else {
                document.getElementById('locationStatus').innerText = "No location data available.";
            }
        });
    </script>

</body>
</html>
